{% extends 'base.html' %}

{% block content %}
    {% if current_user.is_authenticated %}
        <br>
        <h5>Hello, {{ current_user.nickname }}! Let's make and share some Kimchi!</h5>
        <br>
        <form action="/home" method="POST">
            <p>zipcode: <input type="text" name="zipcode"> <input type="submit"></p>
        </form>
        {% else %}
        <br>
        <h3>Welcome to Kimchi Friendly!</h3>
        <br>
        <p>Let's make and share some Kimchi jars with your neighbors! <a href="/register"> Register</a> to get started!</p>
        
    {% endif %}
    <br>
    <h5>All Kimchi Jar Shares</h5>
    {% block body %}
        <br>
        {% for share in shares.items %}
            <article>
            <div>
                <h2><a href="{{ url_for('share', share_id=share.share_id) }}">{{ share.share_name }}</a></h2>
                <div>
                    <a href="{{ url_for('user_shares', nickname=share.user.nickname) }}">{{ share.user.nickname }}</a>
                    <small >{{ share.made_date.strftime('%m-%d-%y') }}</small>
                </div>
                <p>{{ share.description }}</p>
            </div>
            </article>
            <br>
        {% endfor %}
        <!-- pagination set up -->
        {% for page_num in shares.iter_pages(left_edge=1, right_edge=1, left_current=1, right_current=2) %}
            {% if shares.page == page_num %}
                <a href="{{ url_for('home', page=page_num) }}">{{ page_num }}</a>
            {% else %}
                <a href="{{ url_for('home', page=page_num) }}">{{ page_num }}</a>
            {% endif %}
        {% endfor %}
    {% endblock body %}
    <br>
{% endblock content %}